packag import import import import import import import import import import import import import import import import import import public class managerregist class gestisc registro digital author nicola pisanti version privat static managerregist instanc public final static string absenc public final static string delay public final static string justifi public final static string note privat managerregist super ritorna sola istanza class esistent return ritorna class public static synchron managerregist getinst instanc new managerregist return instanc verifica class data input databas param pabsenc La class bisogna verificar return true class databas altrimenti fals throw connectionexcept throw sqlexcept public synchron boolean exist absenc pabsenc throw connectionexcept sqlexcept boolean result fals connect connect null tri connession databas connect connect null throw new connectionexcept string sql select from where inviamo queri databas resultset tr connect sql result true return result final connect verifica class data input databas param pdelay La class bisogna verificar return true class databas altrimenti fals throw connectionexcept throw sqlexcept public synchron boolean exist delay pdelay throw connectionexcept sqlexcept boolean result fals connect connect null tri connession databas connect connect null throw new connectionexcept string sql select from where inviamo queri databas resultset tr connect sql result true return result final connect verifica class data input databas param pdelay La class bisogna verificar return true class databas altrimenti fals throw connectionexcept throw sqlexcept public synchron boolean exist justifi pjustifi throw connectionexcept sqlexcept boolean result fals connect connect null tri connession databas connect connect null throw new connectionexcept string sql select from where inviamo queri databas resultset tr connect sql result true return result final connect inserisc assenza databas param pabsenc oggetto tipo absenc inserir databas throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw invalidvalueexcept public synchron void insertabs absenc pabsenc throw connectionexcept sqlexcept entitynotfoundexcept invalidvalueexcept connect null tri connect throw new connectionexcept stringa sql string sql insert into valu connect sql final risors connect inserisc ritardo databas param pdelay oggetto tipo delay inserir databas throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw invalidvalueexcept public synchron void insertdelay delay pdelay throw connectionexcept sqlexcept entitynotfoundexcept invalidvalueexcept connect null tri connect throw new connectionexcept stringa sql string sql insert into valu connect sql final risors connect inserisc nota databas param pnote oggetto tipo note inserir databas throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw invalidvalueexcept public synchron void insertnot note pnote throw mandatoryfieldexcept connectionexcept sqlexcept entitynotfoundexcept invalidvalueexcept connect null tri null throw new mandatoryfieldexcept inserir testo nota null throw new mandatoryfieldexcept inserir connect throw new connectionexcept stringa sql string sql insert into descript teacher valu connect sql final risors connect inserisc giustifica databas param pjustifi oggetto tipo justifi inserir databas param pabsenc oggetto tipo absenc rappresenta giustificata throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw invalidvalueexcept public synchron void insertjustifi justifi pjustifi absenc pabsenc throw connectionexcept sqlexcept entitynotfoundexcept invalidvalueexcept connect null tri connect throw new connectionexcept stringa sql string sql insert into valu connect sql pabsenc final risors connect cancella databas param pabsenc cancellar throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw invalidvalueexcept public synchron void deleteabs absenc pabsenc throw connectionexcept sqlexcept entitynotfoundexcept mandatoryfieldexcept invalidvalueexcept connect connect null tri connect stringa sql string sql delet from where connect sql deletejustifi final risors connect cancella ritardo databas param pdelay ritardo cancellar throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw invalidvalueexcept public synchron void deletedelay delay pdelay throw connectionexcept sqlexcept entitynotfoundexcept mandatoryfieldexcept invalidvalueexcept connect connect null tri connect stringa sql string sql delet from where connect sql final risors connect cancella nota databas param pnote nota cancellar throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw invalidvalueexcept public synchron void deletenot note pnote throw connectionexcept sqlexcept entitynotfoundexcept invalidvalueexcept connect connect null tri connect stringa sql string sql delet from where connect sql final risors connect cancella nota databas param pjidustifi nota cancellar throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw invalidvalueexcept public synchron void deletejustifi int pidjustifi throw connectionexcept sqlexcept entitynotfoundexcept mandatoryfieldexcept invalidvalueexcept connect connect null tri connect stringa sql string sql delet from where pidjustifi connect sql tri absenc getabsencebyidjustifi pidjustifi updateabs temp catch except normal except vien generata dato pu√≤ esser cancellando giustifica appena cancellato final risors connect aggiorna statistich param pabsenc statistich aggiorn ID identico throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw mandatoryfieldexcept public synchron void updateabs absenc pabsenc throw connectionexcept sqlexcept entitynotfoundexcept connect null tri stringa sql string updat set where nuova connession invia queri connect throw new connectionexcept connect sql final risors connect aggiorna statistich ritardo param pdelay Il ritardo statistich aggiorn ID identico throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw mandatoryfieldexcept public synchron void updatedelay delay pdelay throw connectionexcept sqlexcept entitynotfoundexcept mandatoryfieldexcept connect null tri stringa sql string updat set where nuova connession invia queri connect throw new connectionexcept connect sql final risors connect metodo aggiorna statistich nota param pnote oggetto tipo note statistich aggiorn id identico throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw mandatoryfieldexcept public synchron void updatenot note pnote throw connectionexcept sqlexcept entitynotfoundexcept mandatoryfieldexcept connect null tri null throw new mandatoryfieldexcept inserir testo nota null throw new mandatoryfieldexcept inserir stringa sql string updat set descript teacher where nuova connession invia queri connect throw new connectionexcept connect sql final risors connect aggiorna statistich giustifica param pjustifi giustifica statistich aggiorn ID identico throw connectionexcept throw sqlexcept throw entitynotfoundexcept throw mandatoryfieldexcept public synchron void updatejustifi justifi pjustifi throw connectionexcept sqlexcept entitynotfoundexcept mandatoryfieldexcept connect null tri stringa sql string updat set where nuova connession invia queri connect throw new connectionexcept connect sql final risors connect metodo restituisc nota dato note stessa param pidjustifi intero rappresenta nota return oggetto tipo note rappresenta nota throw invalidvalueexcept throw entitynotfoundexcept throw connectionexcept throw sqlexcept public synchron note getnotebyid int pidnot throw invalidvalueexcept entitynotfoundexcept connectionexcept sqlexcept note connect connect null tri Se stato fornito restituiamo codic error pidnot throw new entitynotfoundexcept impossibil trovar nota prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where pidnot otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql result tr els throw new entitynotfoundexcept impossibil trovar nota return result final connect metodo restituisc assenza dato giustifca associata assenza param pidjustifi intero rappresenta giustifica return oggetto tipo absenc rappresenta giustificata throw invalidvalueexcept throw entitynotfoundexcept throw connectionexcept throw sqlexcept public synchron absenc getabsencebyidjustifi int pidjustifi throw invalidvalueexcept entitynotfoundexcept connectionexcept sqlexcept absenc connect connect null tri Se stato fornito restituiamo codic error pidjustifi throw new entitynotfoundexcept impossibil trovar prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where pidjustifi otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql result tr els throw new entitynotfoundexcept impossibil trovar return result final connect metodo restituisc assenza dato param pidabs intero rappresenta return oggetto tipo absenc rappresenta throw invalidvalueexcept throw entitynotfoundexcept throw connectionexcept throw sqlexcept public synchron absenc getabsencebyidabs int pidabs throw invalidvalueexcept entitynotfoundexcept connectionexcept sqlexcept absenc connect connect null tri Se stato fornito restituiamo codic error pidabs throw new entitynotfoundexcept impossibil trovar assenza prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where pidabs otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql result tr els throw new entitynotfoundexcept impossibil trovar return result final connect metodo restituisc ritardo dato param piddelay intero rappresenta ritardo return oggetto tipo delay rappresenta ritardo throw invalidvalueexcept throw entitynotfoundexcept throw connectionexcept throw sqlexcept public synchron delay getdelaybyid int piddelay throw invalidvalueexcept entitynotfoundexcept connectionexcept sqlexcept delay connect connect null tri Se stato fornito restituiamo codic error piddelay throw new entitynotfoundexcept impossibil trovar ritardo prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where piddelay otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql result tr els throw new entitynotfoundexcept impossibil trovar return result final connect metodo restituisc assenza dato param pidabs intero rappresenta return oggetto tipo absenc rappresenta throw invalidvalueexcept throw entitynotfoundexcept throw connectionexcept throw sqlexcept public synchron justifi getjustifybyidjustifi int pidjustifi throw invalidvalueexcept entitynotfoundexcept connectionexcept sqlexcept justifi connect connect null tri Se stato fornito restituiamo codic error pidjustifi throw new entitynotfoundexcept impossibil trovar giustifica prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where pidjustifi otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql tr els throw new entitynotfoundexcept impossibil trovar giustifica return result final connect metodo restituisc true data input giustifica assegnata param pabsenc oggetto valor absenc bisogna controllar giustifica return true giustificata fals altrimenti throw entitynotfoundexcept throw connectionexcept throw sqlexcept public synchron boolean hasjustifi absenc pabsenc throw entitynotfoundexcept connectionexcept sqlexcept exist pabsenc throw new entitynotfoundexcept assenza present databas return fals return true metodo restituisc giustifica legata data assenza param pabsenc oggetto tipo absenc rappresenta return oggetto tipo justifi oppur null giustifica throw entitynotfoundexcept throw connectionexcept throw sqlexcept throw invalidvalueexcept public synchron justifi getjustifybyabs absenc pabsenc throw entitynotfoundexcept connectionexcept sqlexcept invalidvalueexcept exist pabsenc throw new entitynotfoundexcept assenza present databas return null justifi connect connect null tri prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql result tr els throw new entitynotfoundexcept impossibil trovar giustifica return result final connect metodo restituisc assenz preso dato anno scolastico utent input param pidus intero rappresenta param pacademicyear intero rappresenta accademico return colleczion assenz vuota assenz throw entitynotfoundexcept throw connectionexcept throw sqlexcept throw invalidvalueexcept public synchron collect absenc getabsencebyiduserandacademicyear int pidus int pacademicyear throw entitynotfoundexcept connectionexcept sqlexcept invalidvalueexcept collect absenc vector absenc connect connect null tri Se stato fornito restituiamo codic error pacademicyear throw new entitynotfoundexcept data troppo vecchia idem user pidus throw new entitynotfoundexcept utent trovato prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where pacademicyear and pidus otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql loadabsencefromr tr return result final connect metodo restituisc collezion note dato utent dato anno scolastico param pidus intero rappresenta param pacademicyear intero rappresenta accademico return collezion note vuota ricevut throw entitynotfoundexcept throw connectionexcept throw sqlexcept throw invalidvalueexcept public synchron collect note getnotebyiduserandacademicyear int pidus int pacademicyear throw entitynotfoundexcept connectionexcept sqlexcept invalidvalueexcept collect note vector note connect connect null tri Se stato fornito restituiamo codic error pacademicyear throw new entitynotfoundexcept data troppo vecchia idem user pidus throw new entitynotfoundexcept utent trovato prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where pacademicyear and pidus otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql loadnotefromr tr return result final connect metodo restituisc dato student dato giorno param pidus intero rappresenta student param pdate stringa rappresenta data formattata databas return oggetto tipo absenc oppur null student present throw entitynotfoundexcept throw connectionexcept throw sqlexcept throw invalidvalueexcept public synchron absenc getabsencebyiduserandd int pidus date pdate throw entitynotfoundexcept connectionexcept sqlexcept invalidvalueexcept absenc absenc connect connect null tri controlli formattazion stringa idem user pidus throw new entitynotfoundexcept utent trovato prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where pdate and pidus otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql tr els return result final connect metodo restituisc ritardo dato student dato giorno param pidus intero rappresenta student param pdate stringa rappresenta data formattata databas return oggetto tipo delay oppur null student orario assent throw entitynotfoundexcept throw connectionexcept throw sqlexcept throw invalidvalueexcept public synchron delay getdelaybyiduserandd int pidus date pdate throw entitynotfoundexcept connectionexcept sqlexcept invalidvalueexcept delay delay connect connect null tri controlli formattazion stringa idem user pidus throw new entitynotfoundexcept utent trovato prepariamo stringa sql recuperar informazioni corrispondenti class passato string tsql select from where pdate and pidus otteniamo connession databas connect connect null throw new connectionexcept inviamo queri databas resultset tr connect tsql tr els return result final connect public synchron collect registerlin getregisterbyclassidandd int pclassid date pdate throw entitynotfoundexcept connectionexcept sqlexcept invalidvalueexcept collect registerlin result new vector registerlin managerus mg collect userlistitem student pclassid userlistitem x student registerlin temp new registerlin x pdate pdate temp return result metodo verifica linea registro param pregisterlin oggetto tipo registerlin return true linea registro passata altrimenti fals public boolean hasabs registerlin pregisterlin return fals return true metodo verifica ritardo linea registro param pregisterlin oggetto tipo registerlin return true ritardo linea registro passata altrimenti fals public boolean hasdelay registerlin pregisterlin return fals return true consent lettura solo record result set param pr Il result set estrarr absenc throw sqlexcept throw invalidvalueexcept privat absenc loadabsencefromr resultset pr throw sqlexcept invalidvalueexcept absenc absenc new absenc date return absenc consent lettura solo record result set param pr Il result set estrarr justifi throw sqlexcept throw invalidvalueexcept privat justifi loadjustifyfromr resultset pr throw sqlexcept invalidvalueexcept justifi justifi new justifi date return justifi consent lettura solo record result set param pr Il result set estrarr note throw sqlexcept throw invalidvalueexcept privat note loadnotefromr resultset pr throw sqlexcept invalidvalueexcept note new note date descript teacher return note consent lettura solo record result set param pr Il result set estrarr delay throw sqlexcept throw invalidvalueexcept privat delay loaddelayfromr resultset pr throw sqlexcept invalidvalueexcept delay delay new delay date return delay nome logout attori utent registrato descrizion permett utent uscir sistema precondizioni loggato sistema clicca pulsant logout sequenza eventi utent sistema visualizza form login postcondizioni pu√£¬≤ nuovament loggarsi sistema